(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){e.exports=n(42)},32:function(e,t,n){},33:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(7),c=n.n(i),o=(n(32),n(33),n(1)),u=n(2);function l(){var e=Object(o.a)(["\npadding: 40px;\n"]);return l=function(){return e},e}var s=u.b.div(l()),f=n(11),v=n(5),m=n(3),p=n.n(m),d=n(6),b=n(14),g=n(20),h=n(21),E=n(24),x=n(22),O=n(25),C=n(4),j=n.n(C),y=n(12),F=n.n(y),S=n(40),k=a.a.createContext(),w=10,I=10,L=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(E.a)(this,Object(x.a)(t).call(this,e))).addCoin=function(e){var t=Object(b.a)(n.state.favorites);t.length<w&&(t.push(e),n.setState({favorites:t}))},n.removeCoin=function(e){var t=Object(b.a)(n.state.favorites);n.setState({favorites:j.a.pull(t,e)})},n.isInfavorites=function(e){return j.a.includes(n.state.favorites,e)},n.componentDidMount=function(){n.fetchCoins(),n.fetchPrices(),n.fetchHistorical()},n.fetchCoins=Object(d.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.coinList();case 2:t=e.sent.Data,n.setState({coinList:t});case 4:case"end":return e.stop()}},e)})),n.fetchPrices=Object(d.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.firstVisit){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.prices();case 4:t=e.sent,n.setState({prices:t});case 6:case"end":return e.stop()}},e)})),n.fetchHistorical=Object(d.a)(p.a.mark(function e(){var t,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.firstVisit){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.historical();case 4:t=e.sent,r=[{name:n.state.currentFavorite,data:t.map(function(e,t){return[F()().subtract(Object(v.a)({},n.state.timeInterval,I-t)).valueOf(),e.USD]})}],n.setState({historical:r});case 7:case"end":return e.stop()}},e)})),n.prices=Object(d.a)(p.a.mark(function e(){var t,r,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=0;case 2:if(!(r<n.state.favorites.length)){e.next=16;break}return e.prev=3,e.next=6,S.priceFull(n.state.favorites[r],"USD");case 6:a=e.sent,t.push(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.warn("Fetch price error: ",e.t0);case 13:r++,e.next=2;break;case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}},e,null,[[3,10]])})),n.historical=function(){for(var e=[],t=I;t>0;t--)e.push(S.priceHistorical(n.state.currentFavorite,["USD"],F()().subtract(Object(v.a)({},n.state.timeInterval,t)).toDate()));return Promise.all(e)},n.confirmFavorites=function(){var e=n.state.favorites[0];n.setState({firstVisit:!1,page:"dashboard",currentFavorite:e,prices:null,historical:null},function(){n.fetchPrices(),n.fetchHistorical()}),localStorage.setItem("xChange",JSON.stringify({favorites:n.state.favorites,currentFavorite:e}))},n.setCurrentFavorite=function(e){n.setState({currentFavorite:e,historical:null},n.fetchHistorical),localStorage.setItem("xChange",JSON.stringify(Object(f.a)({},JSON.parse(localStorage.getItem("xChange")),{currentFavorite:e})))},n.setPage=function(e){return n.setState({page:e})},n.setFilteredCoins=function(e){return n.setState({filteredCoins:e})},n.changeChartSelect=function(e){n.setState({timeInterval:e,historical:null},n.fetchHistorical)},n.state=Object(f.a)({page:"dashboard",favorites:["BTC","ETH","XMR","DOGE"],timeInterval:"days"},n.saveSettings(),{setPage:n.setPage,addCoin:n.addCoin,removeCoin:n.removeCoin,isInFavorites:n.isInfavorites,confirmFavorites:n.confirmFavorites,setCurrentFavorite:n.setCurrentFavorite,setFilteredCoins:n.setFilteredCoins,changeChartSelect:n.changeChartSelect}),n}return Object(O.a)(t,e),Object(h.a)(t,[{key:"saveSettings",value:function(){var e=JSON.parse(localStorage.getItem("xChange"));return e?{favorites:e.favorites,currentFavorite:e.currentFavorite}:{page:"settings",firstVisit:!0}}},{key:"render",value:function(){return a.a.createElement(k.Provider,{value:this.state},this.props.children)}}]),t}(a.a.Component);function P(){var e=Object(o.a)(["\n    display:none\n  "]);return P=function(){return e},e}function H(){var e=Object(o.a)(["\n    color: #9764c7;\n    border-bottom: #9764c7 1px solid;\n  "]);return H=function(){return e},e}function z(){var e=Object(o.a)(["\n  cursor: pointer;\n  ","\n  ","\n"]);return z=function(){return e},e}function A(){var e=Object(o.a)(["\n  display: grid;\n  margin-bottom: 40px;\n  grid-template-columns: 180px auto 100px 100px;\n"]);return A=function(){return e},e}function D(){var e=Object(o.a)(["\n  font-size: 1.5em;\n  font-weight: bold;\n  color: #099a97;\n"]);return D=function(){return e},e}var N=u.b.div(D()),U=u.b.div(A()),V=u.b.div(z(),function(e){return e.active&&Object(u.a)(H())},function(e){return e.hidden&&Object(u.a)(P())});function W(e){var t=e.name;return a.a.createElement(k.Consumer,null,function(e){var n,r=e.firstVisit,i=e.page,c=e.setPage;return a.a.createElement(V,{active:i===t,onClick:function(){return c(t)},hidden:r&&"dashboard"===t},(n=t).charAt(0).toUpperCase()+n.substr(1))})}var B=function(){return a.a.createElement(U,null,a.a.createElement(N,null,"xChange.best"),a.a.createElement("div",null),a.a.createElement(W,{active:!0,name:"dashboard"}),a.a.createElement(W,{name:"settings"}))},T=function(e){e.firstVisit;return a.a.createElement(k.Consumer,null,function(e){return e.firstVisit?a.a.createElement("div",null,"Welcome to xChange.best, please select your favorite coins to begin. "," "):null})};"background-color: ".concat("#15cda8"),"background-color: ".concat("#010e2c",";");var J="background-color: ".concat("white",";"),R="box-shadow: 0px 0px 5px 1px ".concat("#121d5b"),M="box-shadow: 0px 0px 4px 2px #15cda8";function G(){var e=Object(o.a)(["\n  display: grid;\n  justify-content: center;\n"]);return G=function(){return e},e}function K(){var e=Object(o.a)(["\n  marging: 20px;\n  color: ","\n  ","\n  padding: 10px;\n  margin: 10px;\n  cursor: pointer;\n  &:hover {\n    ","\n  }\n"]);return K=function(){return e},e}var $=u.b.div(K(),"#15cda8","font-size: 1.5em;",M),X=u.b.div(G()),q=function(){return a.a.createElement(k.Consumer,null,function(e){var t=e.confirmFavorites;return a.a.createElement(X,null,a.a.createElement($,{onClick:t},"Confirm Favorites"))})},Q=function(e){var t=e.name,n=e.children;return a.a.createElement(k.Consumer,null,function(e){return e.page!==t?null:a.a.createElement("div",null," ",n," ")})};function Y(){var e=Object(o.a)(["\n  pointer-events: none;\n  opacity: 0.4;\n"]);return Y=function(){return e},e}function Z(){var e=Object(o.a)(["\n&:hover {\n  cursor: pointer;\n  ","\n}\n"]);return Z=function(){return e},e}function _(){var e=Object(o.a)(["\n&:hover {\n  cursor: pointer;\n  ","\n}\n"]);return _=function(){return e},e}function ee(){var e=Object(o.a)(["  ","\n  ","\n  padding: 10px;\n"],["\\\n  ","\n  ","\n  padding: 10px;\n"]);return ee=function(){return e},e}var te=u.b.div(ee(),R,J),ne=Object(u.b)(te)(_(),M),re=Object(u.b)(ne)(Z(),"box-shadow: 0px 0px 2px 2px #e41111"),ae=Object(u.b)(te)(Y());function ie(){var e=Object(o.a)(["\n  justify-self: right;\n  display: none;\n  ",":hover & {\n    display: block;\n    color: red;\n  }\n"]);return ie=function(){return e},e}function ce(){var e=Object(o.a)(["\njustify-self: right;\n"]);return ce=function(){return e},e}function oe(){var e=Object(o.a)(["\ndisplay: grid;\ngrid-template-columns: 1fr 1fr;\n"]);return oe=function(){return e},e}var ue=u.b.div(oe()),le=u.b.div(ce()),se=u.b.div(ie(),re),fe=function(e){var t=e.name,n=e.symbol,r=e.topSection;return a.a.createElement(ue,null,a.a.createElement("div",null,t),r?a.a.createElement(se,null," x "):a.a.createElement(le,null,n))};function ve(){var e=Object(o.a)(["\n    height: 200px;\n    display: block;\n    margin: auto;\n  "]);return ve=function(){return e},e}function me(){var e=Object(o.a)(["\n  height: 50px;\n  ","\n"]);return me=function(){return e},e}var pe=u.b.img(me(),function(e){return e.spotLight&&Object(u.a)(ve())}),de=function(e){var t=e.coin,n=e.spotLight;return a.a.createElement(pe,{spotLight:n,alt:t.coinSymbol,src:"http://cryptocompare.com/".concat(t.ImageUrl)})};function be(e,t,n,r){return e?function(){r(t)}:function(){n(t)}}var ge=function(e){var t=e.coinKey,n=e.topSection;return a.a.createElement(k.Consumer,null,function(e){var r=e.coinList,i=e.addCoin,c=e.removeCoin,o=e.isInFavorites,u=r[t],l=ne;return n?l=re:o(t)&&(l=ae),a.a.createElement(l,{onClick:be(n,t,i,c)},a.a.createElement(fe,{topSection:n,name:u.CoinName,symbol:u.Symbol}),a.a.createElement(de,{coin:u}))})};function he(){var e=Object(o.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  grid-gap: 15px;\n  margin-top: 40px;\n"]);return he=function(){return e},e}var Ee=u.b.div(he());function xe(e,t,n,r){return t?n:function(e,t){return t&&Object.keys(t)||Object.keys(e).slice(0,100)}(e,r)}var Oe=function(e){var t=e.topSection;return a.a.createElement(k.Consumer,null,function(e){var n=e.coinList,r=e.favorites,i=e.filteredCoins;return a.a.createElement(Ee,null,xe(n,t,r,i).map(function(e){return a.a.createElement(ge,{key:e,topSection:t,coinKey:e})}))})},Ce=n(23),je=n.n(Ce);function ye(){var e=Object(o.a)(["\n  ","\n  ","\n  border: 1px solid;\n  height: 25px;\n  place-self: center left;\n  color: #15cda8;\n"]);return ye=function(){return e},e}function Fe(){var e=Object(o.a)(["\n  display: grid;\n  grid-template-columns: 300px 1fr;\n"]);return Fe=function(){return e},e}var Se=u.b.div(Fe()),ke=u.b.input(ye(),J,"font-size: 1.25em"),we=j.a.debounce(function(e,t,n){var r=Object.keys(t),a=r.map(function(e){return t[e].CoinName}),i=r.concat(a),c=je.a.filter(e,i,{}).map(function(e){return e.string});n(j.a.pickBy(t,function(e,t){var n=e.CoinName;return j.a.includes(c,t)||j.a.includes(c,n)}))},500);var Ie=function(){return a.a.createElement(k.Consumer,null,function(e){var t=e.setFilteredCoins,n=e.coinList;return a.a.createElement(Se,null,a.a.createElement("h2",null,"Search your coin"),a.a.createElement(ke,{onKeyUp:function(e){return function(e,t,n){var r=e.target.value;r||t(null),we(r,n,t)}(e,t,n)}}))})},Le=function(){return a.a.createElement(Q,{name:"settings"},a.a.createElement(T,null),a.a.createElement(Oe,{topSection:!0}),a.a.createElement(q,null),a.a.createElement(Ie,null),a.a.createElement(Oe,null))};function Pe(){var e=Object(o.a)(["\n    ","\n    pointer-events: none;\n  "]);return Pe=function(){return e},e}function He(){var e=Object(o.a)(["\n  display: grid;\n  ","\n  grid-gap: 15px;\n  grid-template-columns: repeat(3, 1fr);\n  justify-items: right;\n  "]);return He=function(){return e},e}function ze(){var e=Object(o.a)(["\n  ","\n\n  ","\n"]);return ze=function(){return e},e}function Ae(){var e=Object(o.a)(["\n    color: red;\n  "]);return Ae=function(){return e},e}function De(){var e=Object(o.a)(["\n  color: green;\n  ","\n"]);return De=function(){return e},e}function Ne(){var e=Object(o.a)(["\n  ","\n"]);return Ne=function(){return e},e}function Ue(){var e=Object(o.a)(["\n  justify-self: left;\n"]);return Ue=function(){return e},e}function Ve(){var e=Object(o.a)(["\n  justify-self: right;\n"]);return Ve=function(){return e},e}var We=u.b.div(Ve()),Be=u.b.div(Ue()),Te=u.b.div(Ne(),"font-size: 2em"),Je=u.b.div(De(),function(e){return e.red&&Object(u.a)(Ae())}),Re=function(e){return+(e+"").slice(0,7)},Me=Object(u.b)(ne)(ze(),function(e){return e.compact&&Object(u.a)(He(),"font-size: 1em")},function(e){return e.currentFavorite&&Object(u.a)(Pe(),M)});function Ge(e){var t=e.data;return a.a.createElement(We,null,a.a.createElement(Je,{red:t.CHANGEPCT24HOUR<0},Re(t.CHANGEPCT24HOUR)," %"))}function Ke(e){var t=e.sym,n=e.data,r=e.currentFavorite,i=e.setCurrentFavorite;return a.a.createElement(Me,{onClick:i,currentFavorite:r},a.a.createElement(ue,null,a.a.createElement("div",null," ",t," "),a.a.createElement(Ge,{data:n})),a.a.createElement(Te,null,"$",Re(n.PRICE)))}function $e(e){var t=e.sym,n=e.data,r=e.currentFavorite,i=e.setCurrentFavorite;return a.a.createElement(Me,{onClick:i,compact:!0,currentFavorite:r},a.a.createElement(Be,null," ",t," "),a.a.createElement(Ge,{data:n}),a.a.createElement("div",null,"$",Re(n.PRICE)))}var Xe=function(e){var t=e.price,n=e.index,r=Object.keys(t)[0],i=t[r].USD,c=n<5?Ke:$e;return a.a.createElement(k.Consumer,null,function(e){var t=e.currentFavorite,n=e.setCurrentFavorite;return a.a.createElement(c,{sym:r,data:i,currentFavorite:t===r,setCurrentFavorite:function(){return n(r)}})})};function qe(){var e=Object(o.a)(["\n  display: grid;\n  grid-template-columns: repeat(5, 1fr);\n  grid-gap: 15px;\n  margin-top: 40px;\n"]);return qe=function(){return e},e}var Qe=u.b.div(qe()),Ye=function(){return a.a.createElement(k.Consumer,null,function(e){var t=e.prices;return a.a.createElement(Qe,null,t.map(function(e,t){return a.a.createElement(Xe,{key:"priceTile-".concat(t),index:t,price:e})}))})};function Ze(){var e=Object(o.a)(["\n  text-align: center;\n"]);return Ze=function(){return e},e}var _e=u.b.h2(Ze()),et=function(){return a.a.createElement(k.Consumer,null,function(e){var t=e.currentFavorite,n=e.coinList;return a.a.createElement(te,null,a.a.createElement(_e,null,n[t].CoinName),a.a.createElement(de,{spotLight:!0,coin:n[t]}))})},tt=function(e){return{title:{text:""},yAxis:{title:{text:"Price"}},xAxis:{type:"datetime"},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},plotOptions:{series:{label:{connectorAllowed:!1},pointStart:2010}},series:e,responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}}},nt=n(13),rt=n.n(nt);function at(){var e=Object(o.a)(["\n  ","\n  ","\n  border: 1px solid;\n  margin: 5px;\n  height: 25px;\n  float: right;\n"]);return at=function(){return e},e}var it=u.b.select(at(),J,"font-size: 1em");rt.a.Highcharts.setOptions({colors:["#7cb5ec","#f7a35c","#90ee7e","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:null,style:{fontFamily:"Dosis, sans-serif"}},title:{style:{fontSize:"16px",fontWeight:"bold",textTransform:"uppercase"}},tooltip:{borderWidth:0,backgroundColor:"rgba(219,219,216,0.8)",shadow:!1},legend:{itemStyle:{fontWeight:"bold",fontSize:"13px"}},xAxis:{gridLineWidth:1,labels:{style:{fontSize:"12px"}}},yAxis:{minorTickInterval:"auto",title:{style:{textTransform:"uppercase"}},labels:{style:{fontSize:"12px"}}},plotOptions:{candlestick:{lineColor:"#404048"}},background2:"#F0F0EA"});var ct=function(){return a.a.createElement(k.Consumer,null,function(e){var t=e.historical,n=e.changeChartSelect;return a.a.createElement(te,null,a.a.createElement(it,{defaultValue:"days",onChange:function(e){return n(e.target.value)}},a.a.createElement("option",{value:"hours"},"Hours"),a.a.createElement("option",{value:"days"},"Days"),a.a.createElement("option",{value:"weeks"},"Weeks"),a.a.createElement("option",{value:"Months"},"Months")),t?a.a.createElement(rt.a,{config:tt(t)}):a.a.createElement("div",null," Loading historical data ... "))})};function ot(){var e=Object(o.a)(["\n  display: grid;\n  margin-top: 20px;\n  grid-gap: 15px;\n  grid-template-columns: 1fr 3fr;\n"]);return ot=function(){return e},e}var ut=u.b.div(ot()),lt=function(){return a.a.createElement(Q,{name:"dashboard"},a.a.createElement(Ye,null),a.a.createElement(ut,null,a.a.createElement(et,null),a.a.createElement(ct,null)))},st=function(e){return a.a.createElement(k.Consumer,null,function(t){var n=t.coinList,r=t.prices,i=t.firstVisit;return n?i||r?a.a.createElement("div",null,e.children):a.a.createElement("div",null,"Loading prices ..."):a.a.createElement("div",null,"Loading coins ...")})};var ft=function(){return a.a.createElement(s,null,a.a.createElement(L,null,a.a.createElement(B,null),a.a.createElement(st,null,a.a.createElement(Le,null),a.a.createElement(lt,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(ft,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.8c11a32a.chunk.js.map